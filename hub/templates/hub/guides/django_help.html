{% extends "hub/base.html" %}
{% load static %}
{% block content %}
<br/>
<h1><strong>Django Tips and Tricks</strong></h1>
<div class="header_links">
	<a href="{% url 'home'  %}">⏎ Return</a>
	<a href="https://github.com/abuujo/blog_app">
			Public Files Repo
		></a>
</div>
<div class="post_content">
	<h3><strong>Linking to static files</strong></h3>
	<p>With Django, linking to images isn't simple. In general, there are two different needs for images:</p>
	<ol>
		<li>Static images: Images like the profile picture on this page's sidebar - ones that don't change or need to be
			served up dynamically</li>
		<li>Media Images: Images (and media in general) that you want to include in blogs.</li>
	</ol>
	<p>Setting up the static directory and the media directory is simple, let's say your web app is titled 'hub' as mine
		is, for some reason. To add in a static directory, create a folder directory such that your app looks like this
		(vaguely):</p>

	hub<br/>
	├── templates\hub<br/>
	├── static<br/>
	├───── admin<br/>
	├───── hub<br/>
	media<br/><br/>

	<p>Inside the settings file (note that I use a different web app for my site than the one generated by Django, so
		here I'm talking about the settings file inside the first web app, not hub)</p>

	<pre class="language-python"><code># Static URLS
STATIC_URL = '/static/'

# Media URLS
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR.joinpath('media/')

# IDK What I needed this for
X_FRAME_OPTIONS = 'SAMEORIGIN'</code></pre>

	<p>So our media folder is in the same directory as our hub app, and our static folder has a subfolder with the same
		name as our app. Now we can start to grab static files like this:</p>
	<pre class="language-html"><code># This will get you a static image
&lt;img src = "{% static 'hub/images/profile.png' %}"&gt;
	
# You can also add js files in the same way inside 
&lt;script src="{% static 'hub/js/jquery.js' %}"/&gt;</code></pre>
	<p>Now we can look at serving images to our blog posts. Now keep in mind I use a WYSIWYG editor <a
			href="https://github.com/summernote/django-summernote">Summernote</a>. Assuming you set up a similar editor
		for your blog posts, the issue now is keeping the images that we upload attached to our blog posts. Once you
		have set up the media links as above (note using Django 3.2) we can set up our URLs (on the first web app, not
		hub app) as follows:</p>
	<pre class="language-python"><code>urlpatterns = [
path('admin/', admin.site.urls),
path('', include('hub.urls'), name="hub"),
path('summernote/', include('django_summernote.urls')),
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</code></pre>
	<p>Assuming you set up Summernote properly, you should be able to add images to your content section of your blog
		post. </p>

	<h3><strong>Integrating a syntax highlighter</strong></h3>
	<p>Like you can see above, syntax highlighters work really well to make the code you show on screen clearer and much
		more reminiscent of actual code. The style I use on this site is named "Lioshi" which is also the colour scheme
		I use on my Visual Studio Code, so I enjoy the continuity as well.</p>
	<p>To set up a syntax highlighter on your Django site, the first step is to choose your options on the <a
			href="https://highlightjs.org/download/">highlight.s website</a>. Next, move the file called "hlight.js"
		into your static folder. I have a subfolder called js which holds all my Javascript files inside.</p>
	<p>Then find the CSS file for your style, mine was "lioshi.min.css" and place that inside your static directory as
		well (I don't have a subfolder for CSS, though I probably should).</p>
	<p>Now we can integrate them inside our syntax highlighter in our site by including them inside the header section
		of our base.html:</p>
	<pre class="language-html"><code>&lt;!--Code Highlighter--&gt;
&lt;script src="{% static 'hub/js/hlight.js' %}"&gt;&lt;/script&gt;
&lt;script&gt; hljs.highlightAll(); &lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" href="{% static 'hub/lioshi.min.css' %}"&gt;</code></pre>
	<p>And we can add in a code section inside the following tags:</p>
	<pre class="language-html"><code>&lt;pre class="language-python"&gt;&lt;code&gt;
&lt;/pre&gt;&lt;/code&gt;</code></pre>
	<h3><strong>Meta tags and Django context</strong></h3>
	<p>Websites nowadays have many many meta tags found inside of their header tag. The purpose of these tags are somewhat different from each other, but the main ones that people use usually revolve around giving the site/page a title, description, and banner image, which we see when the page link is pasted inside a chat such as Twitter, Facebook, Discord or what have you.</p>
	<p>One of the benefits we get from Django is the ability to manipulate the content of these pages with the context object passed in our view. Let's take the following example:</p>
	<pre class="language-html"><code>&lt;meta name="description" content="A Showcase of my public data analysis and software development." /&gt;<br />&lt;meta property="og:description" content="A Showcase of my public data analysis and software development." /&gt;<br />&lt;meta name="twitter:description" content="A Showcase of my public data analysis and software development." /&gt;</code></pre>
	<p>These are three different description tags that we have access to. When we create a view for a page, we can add in a simple dictionary that gives us the option to add different meta tags:</p>
	<pre class="language-python"><code>def home(request):
	context = {
		# Can add more stuff here if necessary ( e.g. banner image change.)
		'meta' : {
			'title': 'Home Page',
			'description' : 'Home page for my site.'
		},
	}
	return render(request, 'hub/home.html', context)</code></pre>
	<p>Now we can change our base.html meta tags to the following:
	</p><p>
	<img src="{% static 'hub/images/meta.png' %}"></p>
	<h3><strong>Using D3 with Django</strong></h3>
	<p>Using Django in React is easy, just install the module with npm and import away. In Django, there isn't really an easy comparison to this, but nonetheless, we can use D3 and Django</p>
<p>The first step is to consider using D3 in a page-by-page style (i.e. housing all the code for our graphs inside the same page as the graphs are displayed). This can be done using the script tag as such:</p>

<pre class="language-html">
<code>&lt;script type="module"&gt;
&lt;/script&gt;</code>
</pre>

<p>This module tag can be pasted at the top of the page (whereas usually they would be below the page). Now that we have an "environment" we can begin to use D3 normally. Here is a basic starter for people who want to start, just add this code inside the script tags from above:</p>
<pre class="language-javascript">
	<code>import {
	select,
	selectAll,
} from "https://cdn.skypack.dev/d3@7";

var margin = { top: 10, right: 30, bottom: 70, left: 60 },
	width = 750 - margin.left - margin.right,
	height = 400 - margin.top - margin.bottom;

var svg = select("#graph")
		.append("svg")
		.attr("viewBox", "0 0 " + (width + margin.left + margin.right) + " " + (height + margin.top + margin.bottom))
		.append("g")
		.attr("transform",
			"translate(" + margin.left + "," + margin.top + ")");</code>
</pre>
</div>
{% endblock content %}